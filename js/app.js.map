{"version":3,"sources":["webpack:///webpack/bootstrap df71cdd583da27408762","webpack:///./src/index.js","webpack:///./~/simpledom-component/dist/simpledom-component.js","webpack:///./src/components/TodoApp.js","webpack:///./src/components/Header.js","webpack:///./src/model/todo.js","webpack:///./src/components/Main.js","webpack:///./src/components/Todo.js","webpack:///./src/components/Footer.js","webpack:///./src/components/TodoCounter.js","webpack:///./src/components/ClearAllButton.js","webpack:///./src/components/FilterButtons.js","webpack:///./src/router.js","webpack:///./~/rlite-router/rlite.js","webpack:///./src/model/localStorage.js","webpack:///./src/components/ToggleButton.js"],"names":["store","todos","filter","subscribe","event","state","TodoApp","Header","todoVal","target","value","trim","inputNode","focus","refInput","addTodo","editTodo","updateTodo","updateCompleted","toggleAll","deleteTodo","deleteCompleted","UPDATE_COMPLETE","UPDATE_TODO_LIST","UPDATE_TODO","todoId","UPDATE_FILTER","SYNC_TO_LOCALSTORAGE","updateState","map","storeTodo","id","editing","title","completed","events","concat","todo","todoMessage","nextId","Math","max","Main","length","undefined","filterForTodo","ENTER_KEY","ESCAPE_KEY","Todo","props","keyCode","blur","currentTodo","preventDefault","nodeInputEdit","find","refInputEdit","handleKeyUp","Footer","TodoCounter","ClearAllButton","clearCompleted","FilterButtons","selected","initRouter","router","add","processHash","hash","location","run","slice","window","addEventListener","fetchTodos","persistTodos","namespace","key","JSON","parse","localStorage","getItem","setItem","stringify","ToggleButton","checked","isChecked"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap df71cdd583da27408762\n **/","import {el, renderToDom, Store} from 'simpledom-component';\nimport {TodoApp} from './components/TodoApp';\n\nimport {initRouter} from './router';\n\nimport {fetchTodos, persistTodos} from './model/localStorage';\nimport {SYNC_TO_LOCALSTORAGE} from './model/todo';\n\nconst store = new Store(\n\t{\n\t\ttodos: fetchTodos(),\n\t\tfilter: 'all'\n\t}\n);\n\ninitRouter(store);\n\nstore.subscribe(SYNC_TO_LOCALSTORAGE, (event, state) => {\n\tpersistTodos(state.todos);\n});\n\nrenderToDom('todoapp', <TodoApp/>, store);\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.SimpleDomComponent=t():e.SimpleDomComponent=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p=\"\",t(0)}([function(e,t,n){e.exports=n(6)},function(e,t){\"use strict\";function n(e){return Array.isArray(e)?e.reduce(function(e,t){return e.concat(Array.isArray(t)?n(t):t)},[]):e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.flatten=n},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p=\"\",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){\"use strict\";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return(0,f.flatten)(t).map(function(e){if(!e.name)return\"\"+(e.__asHtml||e);var t=Object.keys(e.attrs).filter(function(t){return!t.startsWith(\"on\")&&void 0!==e.attrs[t]&&\"ref\"!==t}).map(function(t){var n=(0,f.dasherize)(\"className\"===t?\"class\":t),r=e.attrs[t];return\"style\"===n&&\"object\"===(\"undefined\"==typeof r?\"undefined\":s(r))?r=Object.keys(r).map(function(e){return\"\"+(0,f.dasherize)(e)+\":\"+r[e]}).join(\";\"):\"class\"===n&&\"object\"===(\"undefined\"==typeof r?\"undefined\":s(r))&&(r=Object.keys(r).filter(function(e){return r[e]}).map(f.dasherize).join(\" \")),\" \"+n+'=\"'+r+'\"'}).join(\"\"),n=o.apply(void 0,r(e.children));return\"<\"+e.name+t+\">\"+n+\"</\"+e.name+\">\"}).join(\"\")}function i(e){var t=e;for(\"string\"==typeof e&&(t=document.getElementById(e));t.firstChild;)t.removeChild(t.firstChild);for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];(0,f.flatten)(r).filter(function(e){return void 0!==e&&null!==e}).map(u).forEach(function(e){return t.appendChild(e)})}function u(e){if(!e.isElem)return e.__asHtml?e:document.createTextNode(\"\"+e);var t=document.createElement(e.name);return Object.keys(e.attrs).filter(function(t){return void 0!==e.attrs[t]}).forEach(function(n){var r=e.attrs[n];if(n.startsWith(\"on\")){var o=n.substring(2).toLowerCase();t.addEventListener(o,function(e){return r(e)})}else\"ref\"===n?r(t):(\"className\"===n&&(n=\"class\"),n=(0,f.dasherize)(n),\"style\"===n&&\"object\"===(\"undefined\"==typeof r?\"undefined\":s(r))?Object.keys(r).forEach(function(e){return t.style[(0,f.dasherize)(e)]=r[e]}):\"class\"===n&&\"object\"===(\"undefined\"==typeof r?\"undefined\":s(r))?Object.keys(r).filter(function(e){return r[e]}).forEach(function(e){return t.classList.add((0,f.dasherize)(e))}):t.setAttribute(n,r))}),e.children.filter(function(e){return void 0!==e&&null!==e}).map(u).forEach(function(e){e.__asHtml?t.insertAdjacentHTML(\"beforeend\",e.__asHtml):t.appendChild(e)}),t}function a(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];return(0,f.isFunction)(e)?e.apply(void 0,[t].concat(r)):{name:e,attrs:t||{},children:((0,f.flatten)(r)||[]).filter(function(e){return null!==e&&void 0!==e}),isElem:!0}}function c(e,t,n){var r=(0,f.isFunction)(e)?e():e;return r?(0,f.isFunction)(t)?t():t:(0,f.isFunction)(n)?n():n}Object.defineProperty(t,\"__esModule\",{value:!0});var s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol?\"symbol\":typeof e};t.renderToString=o,t.renderTo=i,t.convertToNode=u,t.el=a,t.predicate=c;var f=n(2)},function(e,t){\"use strict\";function n(e){return!!(e&&e.constructor&&e.call&&e.apply)}function r(e){return e.replace(/([A-Z])/g,function(e){return\"-\"+e.toLowerCase()})}function o(e){return Array.isArray(e)?e.reduce(function(e,t){return e.concat(Array.isArray(t)?o(t):t)},[]):e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.isFunction=n,t.dasherize=r,t.flatten=o}])})},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function o(){return c++}Object.defineProperty(t,\"__esModule\",{value:!0}),t.Store=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),c=1;t.Store=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.state=t,this.subscribers={}}return u(e,[{key:\"updateState\",value:function(e){var t=this;this.state=i({},this.state,e);for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(0,a.flatten)(r.map(function(e){return Object.keys(t.subscribers[e]||{}).map(function(n){return t.subscribers[e][n]})})).forEach(function(e){return e(event,t.state)})}},{key:\"subscribe\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){};this.subscribers[e]||(this.subscribers[e]={});var n=o();return this.subscribers[e][n]=t,n}},{key:\"unsubsribe\",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=Object.keys(this.subscribers)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var u=o.value;this.subscribers[u][e]&&delete this.subscribers[u][e]}}catch(a){n=!0,r=a}finally{try{!t&&i[\"return\"]&&i[\"return\"]()}finally{if(n)throw r}}}}]),e}()},function(e,t){\"use strict\";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){for(var i=[],u=e;null!==u&&void 0!==u&&u.isComponent;){var a=new u.componentClass(o({},u.props),t);i.push(a),u=a.renderComponent()}if(u&&u.children){var c,s=u.children.map(function(e){return r(e,t)});u.children=s.map(function(e){return e.simpleDomEl}),i=(c=i).concat.apply(c,n(s.map(function(e){return e.componentList})))}return{simpleDomEl:u,componentList:i}}Object.defineProperty(t,\"__esModule\",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.convertToSimpleDom=r},function(e,t,n){\"use strict\";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function i(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0}),t.ConnectedComponent=t.Component=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),s=r(c),f=n(4),l=n(1),d=t.Component=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;u(this,e),this.props=t,this.store=r,Object.getOwnPropertyNames(Object.getPrototypeOf(this)).filter(function(e){return\"constructor\"!==e}).filter(function(e){return n[e]instanceof Function}).forEach(function(e){return n[e]=n[e].bind(n)})}return a(e,[{key:\"state\",get:function(){return this.store.state}}]),a(e,[{key:\"componentDidMount\",value:function(){}},{key:\"renderComponent\",value:function(){return this.render()}},{key:\"render\",value:function(){}}]),e}();d.isComponent=!0;t.ConnectedComponent=function(e){function t(){return u(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:\"nodeRefHandler\",value:function(e){var t=this;this.node=e,this.subscribersId=[];var n=!0,r=!1,o=void 0;try{for(var i,u=this.eventsToSubscribe()[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var a=i.value;this.subscribersId.push(this.store.subscribe(a,this.reactToChangeState.bind(this)))}}catch(c){r=!0,o=c}finally{try{!n&&u[\"return\"]&&u[\"return\"]()}finally{if(r)throw o}}var s=new MutationObserver(function(e){if((0,l.flatten)(e.map(function(e){return Array.from(e.removedNodes)})).findIndex(function(e){return e.contains(t.node)})!==-1){s.disconnect();var n=!0,r=!1,o=void 0;try{for(var i,u=t.subscribersId[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var a=i.value;t.store.unsubsribe(a)}}catch(c){r=!0,o=c}finally{try{!n&&u[\"return\"]&&u[\"return\"]()}finally{if(r)throw o}}}});s.observe(document.body,{childList:!0,subtree:!0})}},{key:\"mustRefresh\",value:function(){return!0}},{key:\"reactToChangeState\",value:function(e,t){if(this.mustRefresh()){var n=(0,f.convertToSimpleDom)(this.render(),this.store);s.renderTo(this.node,n.simpleDomEl),n.componentList.forEach(function(e){return e.componentDidMount()}),this.componentDidMount()}}},{key:\"eventsToSubscribe\",value:function(){return[]}},{key:\"renderComponent\",value:function(){var e=this;return s.el(\"div\",{ref:function(t){return e.nodeRefHandler(t)}},this.render())}}]),t}(d)},function(e,t,n){\"use strict\";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}var o=n(5),i=n(3),u=n(2),a=r(u),c=n(7);t.Component=o.Component,t.Store=i.Store,t.ConnectedComponent=o.ConnectedComponent,t.el=c.el,t.renderToDom=c.renderToDom,t.renderTo=a.renderTo,t.predicate=a.predicate,t.renderToString=a.renderToString},function(e,t,n){\"use strict\";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e&&e.isComponent){var i=u({},t,{children:((0,f.flatten)(r)||[]).filter(function(e){return null!==e&&void 0!==e})});return{isComponent:!0,componentClass:e,props:i}}return c.el.apply(c,[e,t].concat(r))}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new l.Store,r=(0,s.convertToSimpleDom)(t,n);c.renderTo(e,r.simpleDomEl),r.componentList.forEach(function(e){return e.componentDidMount()})}Object.defineProperty(t,\"__esModule\",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.el=o,t.renderToDom=i;var a=n(2),c=r(a),s=n(4),f=n(1),l=n(3)}])});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/simpledom-component/dist/simpledom-component.js\n ** module id = 2\n ** module chunks = 0\n **/","import {el, Component, predicate} from 'simpledom-component';\nimport {Header} from './Header';\nimport {Main} from './Main';\nimport {Footer} from './Footer';\n\nexport class TodoApp extends Component {\n\trender() {\n\t\treturn <div>\n\t\t\t<Header />\n\t\t\t<Main />\n\t\t\t<Footer />\n\t\t</div>;\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/TodoApp.js\n **/","\nimport {el, Component} from 'simpledom-component';\n\nimport {addTodo} from '../model/todo';\n\nexport class Header extends Component {\n\n\taddTodo(event) {\n\t\tconst todoVal = event.target.value && event.target.value.trim();\n\t\tif (todoVal) {\n\t\t\tevent.target.value = '';\n\t\t\taddTodo(this.store, todoVal);\n\t\t}\n\t}\n\n\trefInput(inputNode) {\n\t\tthis.inputNode = inputNode;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.inputNode.focus();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<header class=\"header\">\n\t\t\t\t<h1>todos</h1>\n\t\t\t\t<input ref={this.refInput} class=\"new-todo\" placeholder=\"What needs to be done?\"\n\t\t\t\t\t   onChange={this.addTodo}\n\t\t\t\t/>\n\t\t\t</header>\n\t\t);\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Header.js\n **/","export const UPDATE_COMPLETE = 'UPDATE_COMPLETE';\n\nexport const UPDATE_TODO_LIST = 'UPDATE_TODO_LIST';\n\nexport const UPDATE_TODO = todoId => 'UPDATE_TODO_' + todoId;\n\nexport const UPDATE_FILTER = 'UPDATE_FILTER';\n\nexport const SYNC_TO_LOCALSTORAGE = 'SYNC_TO_LOCALSTORAGE';\n\nexport function editTodo(store, todoId) {\n\tstore.updateState({\n\t\ttodos: store.state.todos.map(storeTodo => {\n\t\t\treturn (storeTodo.id === todoId ? {...storeTodo, editing: true} : storeTodo)\n\t\t})\n\t}, UPDATE_TODO(todoId));\n}\n\nexport function updateTodo(store, todoId, title) {\n\tstore.updateState({\n\t\ttodos: store.state.todos.map(storeTodo => {\n\t\t\treturn (storeTodo.id === todoId ? {...storeTodo, editing: false, title} : storeTodo)\n\t\t})\n\t}, UPDATE_TODO(todoId), SYNC_TO_LOCALSTORAGE);\n}\n\nexport function updateCompleted(store, todoId) {\n\tstore.updateState({\n\t\ttodos: store.state.todos.map(storeTodo => {\n\t\t\treturn (storeTodo.id === todoId ? {...storeTodo, completed: !storeTodo.completed} : storeTodo)\n\t\t})\n\t}, UPDATE_COMPLETE, UPDATE_TODO(todoId), SYNC_TO_LOCALSTORAGE);\n}\n\nexport function toggleAll(store, completed) {\n\tconst events = [UPDATE_COMPLETE, SYNC_TO_LOCALSTORAGE].concat(\n\t\t...store.state.todos.map(todo => todo.id).map(UPDATE_TODO)\n\t);\n\tstore.updateState({\n\t\ttodos: store.state.todos.map(todo => {\n\t\t\treturn {...todo, completed};\n\t\t})\n\t}, ...events);\n}\n\nexport function deleteTodo(store, todoId) {\n\tstore.updateState({\n\t\ttodos: store.state.todos.filter(todo => todo.id !== todoId)\n\t}, UPDATE_TODO_LIST, SYNC_TO_LOCALSTORAGE);\n}\n\nexport function deleteCompleted(store) {\n\tstore.updateState({\n\t\ttodos: store.state.todos.filter(todo => !todo.completed)\n\t}, UPDATE_TODO_LIST, SYNC_TO_LOCALSTORAGE);\n}\n\nexport function addTodo(store, todoMessage) {\n\tconst nextId = Math.max(0, ...store.state.todos.map(todo => todo.id)) + 1;\n\tstore.updateState({\n\t\ttodos: [...store.state.todos, {\n\t\t\tid: nextId,\n\t\t\tcompleted: false,\n\t\t\ttitle: todoMessage\n\t\t}]\n\t}, UPDATE_TODO_LIST, SYNC_TO_LOCALSTORAGE)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/todo.js\n **/","import {el, Component, ConnectedComponent} from 'simpledom-component';\n\nimport {Todo} from './Todo';\nimport {ToggleButton} from './ToggleButton';\n\nimport {UPDATE_TODO_LIST, UPDATE_FILTER} from '../model/todo';\n\nexport class Main extends ConnectedComponent {\n\teventsToSubscribe() {\n\t\treturn [UPDATE_TODO_LIST, UPDATE_FILTER];\n\t}\n\n\tfilterForTodo() {\n\t\tif (this.state.filter === 'active') {\n\t\t\treturn todo => !todo.completed\n\t\t} else if (this.state.filter === 'completed') {\n\t\t\treturn todo => todo.completed\n\t\t}\n\t\treturn todo => true;\n\t}\n\n\trender() {\n\t\tif (!this.state.todos.length) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn (\n\t\t\t<section class=\"main\">\n\t\t\t\t<ToggleButton />\n\t\t\t\t<label for=\"toggle-all\">Mark all as complete</label>\n\t\t\t\t<ul class=\"todo-list\">\n\t\t\t\t\t{this.state.todos.filter(this.filterForTodo()).map(todo =>\n\t\t\t\t\t\t<Todo todoId={todo.id}/>\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t</section>\n\t\t);\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Main.js\n **/","import {el, ConnectedComponent} from 'simpledom-component';\n\nimport {updateCompleted, UPDATE_TODO, deleteTodo, editTodo, updateTodo} from '../model/todo';\n\nconst ENTER_KEY = 13;\nconst ESCAPE_KEY = 27;\n\nexport class Todo extends ConnectedComponent {\n\n\teventsToSubscribe() {\n\t\treturn [\n\t\t\tUPDATE_TODO(this.props.todoId)\n\t\t];\n\t}\n\n\tupdateCompleted() {\n\t\tupdateCompleted(this.store, this.props.todoId);\n\t}\n\n\tdeleteTodo() {\n\t\tdeleteTodo(this.store, this.props.todoId);\n\t}\n\n\teditTodo() {\n\t\teditTodo(this.store, this.props.todoId);\n\t}\n\n\thandleKeyUp(event) {\n\t\tif (event.keyCode === ENTER_KEY) {\n\t\t\tevent.target.blur();\n\t\t} else if (event.keyCode === ESCAPE_KEY) {\n\t\t\tevent.target.value = this.currentTodo().title;\n\t\t\tevent.target.blur();\n\t\t}\n\t}\n\n\tupdateTodo(event) {\n\t\tevent.preventDefault();\n\t\tconst value = event.target.value && event.target.value.trim();\n\t\tif (value) {\n\t\t\tupdateTodo(this.store, this.props.todoId, value);\n\t\t} else {\n\t\t\tdeleteTodo(this.store, this.props.todoId);\n\t\t}\n\t}\n\n\trefInputEdit(nodeInputEdit) {\n\t\tthis.nodeInputEdit = nodeInputEdit;\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.currentTodo().editing) {\n\t\t\tthis.nodeInputEdit.focus();\n\t\t}\n\t}\n\n\tcurrentTodo() {\n\t\treturn this.state.todos.find(todo => todo.id === this.props.todoId);\n\t}\n\n\trender() {\n\t\tconst todo = this.currentTodo();\n\n\t\treturn (\n\t\t\t<li class={{completed: todo.completed, editing: todo.editing}}>\n\t\t\t\t<div class=\"view\">\n\t\t\t\t\t<input class=\"toggle\" type=\"checkbox\" checked={todo.completed ? 'checked' : undefined}\n\t\t\t\t\t\t   onChange={this.updateCompleted}\n\t\t\t\t\t/>\n\t\t\t\t\t<label onDblClick={this.editTodo}>{todo.title}</label>\n\t\t\t\t\t<button class=\"destroy\" onClick={this.deleteTodo}/>\n\t\t\t\t</div>\n\t\t\t\t<input ref={this.refInputEdit} class=\"edit\" value={todo.title} onKeyUp={this.handleKeyUp} onBlur={this.updateTodo}/>\n\t\t\t</li>\n\t\t)\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Todo.js\n **/","import {el, ConnectedComponent} from 'simpledom-component';\n\nimport {TodoCounter} from './TodoCounter';\nimport {ClearAllButton} from './ClearAllButton';\n\nimport {UPDATE_TODO_LIST} from '../model/todo';\n\nimport {FilterButtons} from './FilterButtons';\n\nexport class Footer extends ConnectedComponent {\n\teventsToSubscribe() {\n\t\treturn [UPDATE_TODO_LIST];\n\t}\n\n\trender() {\n\t\tif (!this.state.todos.length) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn (\n\t\t\t<footer class=\"footer\">\n\t\t\t\t<TodoCounter />\n\t\t\t\t<FilterButtons />\n\t\t\t\t<ClearAllButton />\n\t\t\t</footer>\n\t\t);\n\t}\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Footer.js\n **/","import {el, ConnectedComponent} from 'simpledom-component';\nimport {UPDATE_COMPLETE} from '../model/todo';\n\nexport class TodoCounter extends ConnectedComponent {\n\n\teventsToSubscribe() {\n\t\treturn [UPDATE_COMPLETE];\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<span class=\"todo-count\"><strong>{this.state.todos.filter(todo => !todo.completed).length}</strong> item left{this.state.todos.length > 1 ? 's' : ''}</span>\n\t\t);\n\t}\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/TodoCounter.js\n **/","import {el, ConnectedComponent, predicate} from 'simpledom-component';\nimport {UPDATE_COMPLETE, deleteCompleted} from '../model/todo'\n\nexport class ClearAllButton extends ConnectedComponent {\n\teventsToSubscribe() {\n\t\treturn [UPDATE_COMPLETE];\n\t}\n\n\tclearCompleted() {\n\t\tdeleteCompleted(this.store);\n\t}\n\n\trender() {\n\t\treturn predicate(!!this.state.todos.filter(todo => todo.completed).length,\n\t\t\t<button class=\"clear-completed\" onClick={this.clearCompleted}>Clear completed</button>\n\t\t);\n\t}\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/ClearAllButton.js\n **/","\nimport {el, ConnectedComponent} from 'simpledom-component';\n\nimport {UPDATE_FILTER} from '../model/todo';\n\nexport class FilterButtons extends ConnectedComponent {\n\teventsToSubscribe() {\n\t\treturn [UPDATE_FILTER];\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<ul class=\"filters\">\n\t\t\t\t<li>\n\t\t\t\t\t<a class={{selected: this.state.filter === 'all'}} href=\"#/\">All</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a class={{selected: this.state.filter === 'active'}} href=\"#/active\">Active</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a class={{selected: this.state.filter === 'completed'}} href=\"#/completed\">Completed</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/FilterButtons.js\n **/","import Rlite from 'rlite-router';\n\nimport {UPDATE_FILTER} from './model/todo';\n\nexport function initRouter(store) {\n\tconst router = Rlite();\n\n\trouter.add('', () => store.updateState({filter: 'all'}, UPDATE_FILTER));\n\trouter.add('active', () => store.updateState({filter: 'active'}, UPDATE_FILTER));\n\trouter.add('completed', () => store.updateState({filter: 'completed'}, UPDATE_FILTER));\n\n\t// Hash-based routing\n\tfunction processHash() {\n\t\tconst hash = location.hash || '#';\n\t\trouter.run(hash.slice(1));\n\t}\n\n\twindow.addEventListener('hashchange', processHash);\n\tprocessHash();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/router.js\n **/","// This library started as an experiment to see how small I could make\n// a functional router. It has since been optimized (and thus grown).\n// The redundancy and inelegance here is for the sake of either size\n// or speed.\n(function (root, factory) {\n  var define = root.define;\n\n  if (define && define.amd) {\n    define('rlite', [], factory);\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = factory();\n  } else {\n    root.Rlite = factory();\n  }\n}(this, function () { return function() {\n    var routes = {},\n        decode = decodeURIComponent;\n\n    function noop(s) { return s; }\n\n    function sanitize(url) {\n      ~url.indexOf('/?') && (url = url.replace('/?', '?'));\n      url[0] == '/' && (url = url.slice(1));\n      url[url.length - 1] == '/' && (url = url.slice(0, -1));\n\n      return url;\n    }\n\n    function processUrl(url, esc) {\n      var pieces = url.split('/'),\n          rules = routes,\n          params = {};\n\n      for (var i = 0; i < pieces.length && rules; ++i) {\n        var piece = esc(pieces[i]);\n        rules = rules[piece.toLowerCase()] || rules[':'];\n        rules && rules['~'] && (params[rules['~']] = piece);\n      }\n\n      return rules && {\n        cb: rules['@'],\n        params: params\n      };\n    }\n\n    function processQuery(url, ctx, esc) {\n      if (url && ctx.cb) {\n        var hash = url.indexOf('#'),\n            query = (hash < 0 ? url : url.slice(0, hash)).split('&');\n\n        for (var i = 0; i < query.length; ++i) {\n          var nameValue = query[i].split('=');\n\n          ctx.params[nameValue[0]] = esc(nameValue[1]);\n        }\n      }\n\n      return ctx;\n    }\n\n    function lookup(url) {\n      var querySplit = sanitize(url).split('?'),\n          esc = ~url.indexOf('%') ? decode : noop;\n\n      return processQuery(querySplit[1], processUrl(querySplit[0], esc) || {}, esc);\n    }\n\n    return {\n      add: function(route, handler) {\n\n        var pieces = route.split('/'),\n            rules = routes;\n\n        for (var i = 0; i < pieces.length; ++i) {\n          var piece = pieces[i],\n              name = piece[0] == ':' ? ':' : piece.toLowerCase();\n\n          rules = rules[name] || (rules[name] = {});\n\n          name == ':' && (rules['~'] = piece.slice(1));\n        }\n\n        rules['@'] = handler;\n      },\n\n      exists: function (url) {\n        return !!lookup(url).cb;\n      },\n\n      lookup: lookup,\n\n      run: function(url) {\n        var result = lookup(url);\n\n        result.cb && result.cb({\n          url: url,\n          params: result.params\n        });\n\n        return !!result.cb;\n      }\n    };\n  };\n}));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rlite-router/rlite.js\n ** module id = 13\n ** module chunks = 0\n **/","\n\nconst namespace = 'todos-simpledom-component';\nconst key = 'todos';\n\nexport function fetchTodos() {\n\n\treturn JSON.parse(localStorage.getItem(namespace + '-' + key) || '[]');\n}\n\nexport function persistTodos(todos = []) {\n\tlocalStorage.setItem(namespace + '-' + key, JSON.stringify(todos.map(todo => {\n\t\treturn {\n\t\t\tid: todo.id,\n\t\t\ttitle: todo.title,\n\t\t\tcompleted: todo.completed\n\t\t}\n\t})));\n}\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/localStorage.js\n **/","import {el, ConnectedComponent} from 'simpledom-component';\nimport {UPDATE_COMPLETE, toggleAll} from '../model/todo';\n\nexport class ToggleButton extends ConnectedComponent {\n\teventsToSubscribe() {\n\t\treturn [UPDATE_COMPLETE]\n\t}\n\n\ttoggleAll(event) {\n\t\ttoggleAll(this.store, event.target.checked);\n\t}\n\n\tisChecked() {\n\t\treturn !this.state.todos.filter(todo => !todo.completed).length;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<input class=\"toggle-all\" type=\"checkbox\"\n\t\t\t\t   onChange={this.toggleAll}\n\t\t\t\t   checked={this.isChecked() ? 'checked' : undefined}\n\t\t\t/>\n\t\t)\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/ToggleButton.js\n **/"],"sourceRoot":""}